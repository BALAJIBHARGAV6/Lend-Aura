var es=t=>{throw TypeError(t)};var bt=(t,e,n)=>e.has(t)||es("Cannot "+n);var c=(t,e,n)=>(bt(t,e,"read from private field"),n?n.call(t):e.get(t)),w=(t,e,n)=>e.has(t)?es("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),g=(t,e,n,a)=>(bt(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),R=(t,e,n)=>(bt(t,e,"access private method"),n);var ut=(t,e,n,a)=>({set _(r){g(t,e,r,n)},get _(){return c(t,e,a)}});import{r as d,a as fn,b as pn,R as xn}from"./vendor-CIhb98-v.js";import{A as _s,m as N}from"./ui-zs-KpLM4.js";import{e as Ct,s as yn,W as gn}from"./aptos-BTnuoDJq.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();var Us={exports:{}},yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=d,bn=Symbol.for("react.element"),jn=Symbol.for("react.fragment"),wn=Object.prototype.hasOwnProperty,Nn=vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cn={key:!0,ref:!0,__self:!0,__source:!0};function Ds(t,e,n){var a,r={},l=null,i=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(i=e.ref);for(a in e)wn.call(e,a)&&!Cn.hasOwnProperty(a)&&(r[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)r[a]===void 0&&(r[a]=e[a]);return{$$typeof:bn,type:t,key:l,ref:i,props:r,_owner:Nn.current}}yt.Fragment=jn;yt.jsx=Ds;yt.jsxs=Ds;Us.exports=yt;var s=Us.exports,Rt={},ts=fn;Rt.createRoot=ts.createRoot,Rt.hydrateRoot=ts.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xe.apply(this,arguments)}var xe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xe||(xe={}));const ss="popstate";function Rn(t){t===void 0&&(t={});function e(a,r){let{pathname:l,search:i,hash:u}=a.location;return Pt("",{pathname:l,search:i,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:ft(r)}return Tn(e,n,null,t)}function F(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pn(){return Math.random().toString(36).substr(2,8)}function ns(t,e){return{usr:t.state,key:t.key,idx:e}}function Pt(t,e,n,a){return n===void 0&&(n=null),Xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ge(e):e,{state:n,key:e&&e.key||a||Pn()})}function ft(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Ge(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function Tn(t,e,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:l=!1}=a,i=r.history,u=xe.Pop,o=null,h=f();h==null&&(h=0,i.replaceState(Xe({},i.state,{idx:h}),""));function f(){return(i.state||{idx:null}).idx}function m(){u=xe.Pop;let x=f(),P=x==null?null:x-h;h=x,o&&o({action:u,location:j.location,delta:P})}function v(x,P){u=xe.Push;let E=Pt(j.location,x,P);h=f()+1;let C=ns(E,h),y=j.createHref(E);try{i.pushState(C,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(y)}l&&o&&o({action:u,location:j.location,delta:1})}function p(x,P){u=xe.Replace;let E=Pt(j.location,x,P);h=f();let C=ns(E,h),y=j.createHref(E);i.replaceState(C,"",y),l&&o&&o({action:u,location:j.location,delta:0})}function b(x){let P=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof x=="string"?x:ft(x);return E=E.replace(/ $/,"%20"),F(P,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,P)}let j={get action(){return u},get location(){return t(r,i)},listen(x){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(ss,m),o=x,()=>{r.removeEventListener(ss,m),o=null}},createHref(x){return e(r,x)},createURL:b,encodeLocation(x){let P=b(x);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:p,go(x){return i.go(x)}};return j}var as;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(as||(as={}));function En(t,e,n){return n===void 0&&(n="/"),Sn(t,e,n)}function Sn(t,e,n,a){let r=typeof e=="string"?Ge(e):e,l=Wt(r.pathname||"/",n);if(l==null)return null;let i=qs(t);Ln(i);let u=null;for(let o=0;u==null&&o<i.length;++o){let h=$n(l);u=Dn(i[o],h)}return u}function qs(t,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(l,i,u)=>{let o={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(F(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let h=ye([a,o.relativePath]),f=n.concat(o);l.children&&l.children.length>0&&(F(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qs(l.children,e,f,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:_n(h,l.index),routesMeta:f})};return t.forEach((l,i)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))r(l,i);else for(let o of $s(l.path))r(l,i,o)}),e}function $s(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let i=$s(a.join("/")),u=[];return u.push(...i.map(o=>o===""?l:[l,o].join("/"))),r&&u.push(...i),u.map(o=>t.startsWith("/")&&o===""?"/":o)}function Ln(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Un(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const An=/^:[\w-]+$/,Fn=3,On=2,Mn=1,In=10,kn=-2,rs=t=>t==="*";function _n(t,e){let n=t.split("/"),a=n.length;return n.some(rs)&&(a+=kn),e&&(a+=On),n.filter(r=>!rs(r)).reduce((r,l)=>r+(An.test(l)?Fn:l===""?Mn:In),a)}function Un(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function Dn(t,e,n){let{routesMeta:a}=t,r={},l="/",i=[];for(let u=0;u<a.length;++u){let o=a[u],h=u===a.length-1,f=l==="/"?e:e.slice(l.length)||"/",m=Bn({path:o.relativePath,caseSensitive:o.caseSensitive,end:h},f),v=o.route;if(!m)return null;Object.assign(r,m.params),i.push({params:r,pathname:ye([l,m.pathname]),pathnameBase:Kn(ye([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=ye([l,m.pathnameBase]))}return i}function Bn(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=qn(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let l=r[0],i=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:a.reduce((h,f,m)=>{let{paramName:v,isOptional:p}=f;if(v==="*"){let j=u[m]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[m];return p&&!b?h[v]=void 0:h[v]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:i,pattern:t}}function qn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,o)=>(a.push({paramName:u,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function $n(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Qn(t,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?Ge(t):t;return{pathname:n?n.startsWith("/")?n:Wn(n,e):e,search:Hn(a),hash:zn(r)}}function Wn(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function jt(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vn(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qs(t,e){let n=Vn(t);return e?n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Ws(t,e,n,a){a===void 0&&(a=!1);let r;typeof t=="string"?r=Ge(t):(r=Xe({},t),F(!r.pathname||!r.pathname.includes("?"),jt("?","pathname","search",r)),F(!r.pathname||!r.pathname.includes("#"),jt("#","pathname","hash",r)),F(!r.search||!r.search.includes("#"),jt("#","search","hash",r)));let l=t===""||r.pathname==="",i=l?"/":r.pathname,u;if(i==null)u=n;else{let m=e.length-1;if(!a&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}u=m>=0?e[m]:"/"}let o=Qn(r,u),h=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(h||f)&&(o.pathname+="/"),o}const ye=t=>t.join("/").replace(/\/\/+/g,"/"),Kn=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hn=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zn=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vs=["post","put","patch","delete"];new Set(Vs);const Yn=["get",...Vs];new Set(Yn);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},et.apply(this,arguments)}const Vt=d.createContext(null),Zn=d.createContext(null),Oe=d.createContext(null),gt=d.createContext(null),Me=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Ks=d.createContext(null);function Jn(t,e){let{relative:n}=e===void 0?{}:e;it()||F(!1);let{basename:a,navigator:r}=d.useContext(Oe),{hash:l,pathname:i,search:u}=zs(t,{relative:n}),o=i;return a!=="/"&&(o=i==="/"?a:ye([a,i])),r.createHref({pathname:o,search:u,hash:l})}function it(){return d.useContext(gt)!=null}function lt(){return it()||F(!1),d.useContext(gt).location}function Hs(t){d.useContext(Oe).static||d.useLayoutEffect(t)}function Xn(){let{isDataRoute:t}=d.useContext(Me);return t?ha():ea()}function ea(){it()||F(!1);let t=d.useContext(Vt),{basename:e,future:n,navigator:a}=d.useContext(Oe),{matches:r}=d.useContext(Me),{pathname:l}=lt(),i=JSON.stringify(Qs(r,n.v7_relativeSplatPath)),u=d.useRef(!1);return Hs(()=>{u.current=!0}),d.useCallback(function(h,f){if(f===void 0&&(f={}),!u.current)return;if(typeof h=="number"){a.go(h);return}let m=Ws(h,JSON.parse(i),l,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ye([e,m.pathname])),(f.replace?a.replace:a.push)(m,f.state,f)},[e,a,i,l,t])}function zs(t,e){let{relative:n}=e===void 0?{}:e,{future:a}=d.useContext(Oe),{matches:r}=d.useContext(Me),{pathname:l}=lt(),i=JSON.stringify(Qs(r,a.v7_relativeSplatPath));return d.useMemo(()=>Ws(t,JSON.parse(i),l,n==="path"),[t,i,l,n])}function ta(t,e){return sa(t,e)}function sa(t,e,n,a){it()||F(!1);let{navigator:r}=d.useContext(Oe),{matches:l}=d.useContext(Me),i=l[l.length-1],u=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let h=lt(),f;if(e){var m;let x=typeof e=="string"?Ge(e):e;o==="/"||(m=x.pathname)!=null&&m.startsWith(o)||F(!1),f=x}else f=h;let v=f.pathname||"/",p=v;if(o!=="/"){let x=o.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=En(t,{pathname:p}),j=la(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:ye([o,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:ye([o,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,a);return e&&j?d.createElement(gt.Provider,{value:{location:et({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:xe.Pop}},j):j}function na(){let t=da(),e=Gn(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:r},n):null,null)}const aa=d.createElement(na,null);class ra extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(Me.Provider,{value:this.props.routeContext},d.createElement(Ks.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ia(t){let{routeContext:e,match:n,children:a}=t,r=d.useContext(Vt);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Me.Provider,{value:e},a)}function la(t,e,n,a){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),a===void 0&&(a=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=a)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,u=(r=n)==null?void 0:r.errors;if(u!=null){let f=i.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);f>=0||F(!1),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:p}=n,b=m.route.loader&&v[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){o=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,m,v)=>{let p,b=!1,j=null,x=null;n&&(p=u&&m.route.id?u[m.route.id]:void 0,j=m.route.errorElement||aa,o&&(h<0&&v===0?(ma("route-fallback"),b=!0,x=null):h===v&&(b=!0,x=m.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,v+1)),E=()=>{let C;return p?C=j:b?C=x:m.route.Component?C=d.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,d.createElement(ia,{match:m,routeContext:{outlet:f,matches:P,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?d.createElement(ra,{location:n.location,revalidation:n.revalidation,component:j,error:p,children:E(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):E()},null)}var Gs=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gs||{}),Ys=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ys||{});function oa(t){let e=d.useContext(Vt);return e||F(!1),e}function ca(t){let e=d.useContext(Zn);return e||F(!1),e}function ua(t){let e=d.useContext(Me);return e||F(!1),e}function Zs(t){let e=ua(),n=e.matches[e.matches.length-1];return n.route.id||F(!1),n.route.id}function da(){var t;let e=d.useContext(Ks),n=ca(),a=Zs();return e!==void 0?e:(t=n.errors)==null?void 0:t[a]}function ha(){let{router:t}=oa(Gs.UseNavigateStable),e=Zs(Ys.UseNavigateStable),n=d.useRef(!1);return Hs(()=>{n.current=!0}),d.useCallback(function(r,l){l===void 0&&(l={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,et({fromRouteId:e},l)))},[t,e])}const is={};function ma(t,e,n){is[t]||(is[t]=!0)}function fa(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function be(t){F(!1)}function pa(t){let{basename:e="/",children:n=null,location:a,navigationType:r=xe.Pop,navigator:l,static:i=!1,future:u}=t;it()&&F(!1);let o=e.replace(/^\/*/,"/"),h=d.useMemo(()=>({basename:o,navigator:l,static:i,future:et({v7_relativeSplatPath:!1},u)}),[o,u,l,i]);typeof a=="string"&&(a=Ge(a));let{pathname:f="/",search:m="",hash:v="",state:p=null,key:b="default"}=a,j=d.useMemo(()=>{let x=Wt(f,o);return x==null?null:{location:{pathname:x,search:m,hash:v,state:p,key:b},navigationType:r}},[o,f,m,v,p,b,r]);return j==null?null:d.createElement(Oe.Provider,{value:h},d.createElement(gt.Provider,{children:n,value:j}))}function xa(t){let{children:e,location:n}=t;return ta(Tt(e),n)}new Promise(()=>{});function Tt(t,e){e===void 0&&(e=[]);let n=[];return d.Children.forEach(t,(a,r)=>{if(!d.isValidElement(a))return;let l=[...e,r];if(a.type===d.Fragment){n.push.apply(n,Tt(a.props.children,l));return}a.type!==be&&F(!1),!a.props.index||!a.props.children||F(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Tt(a.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Et(){return Et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Et.apply(this,arguments)}function ya(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,l;for(l=0;l<a.length;l++)r=a[l],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ga(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function va(t,e){return t.button===0&&(!e||e==="_self")&&!ga(t)}const ba=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ja="6";try{window.__reactRouterVersion=ja}catch{}const wa="startTransition",ls=pn[wa];function Na(t){let{basename:e,children:n,future:a,window:r}=t,l=d.useRef();l.current==null&&(l.current=Rn({window:r,v5Compat:!0}));let i=l.current,[u,o]=d.useState({action:i.action,location:i.location}),{v7_startTransition:h}=a||{},f=d.useCallback(m=>{h&&ls?ls(()=>o(m)):o(m)},[o,h]);return d.useLayoutEffect(()=>i.listen(f),[i,f]),d.useEffect(()=>fa(a),[a]),d.createElement(pa,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:i,future:a})}const Ca=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ra=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=d.forwardRef(function(e,n){let{onClick:a,relative:r,reloadDocument:l,replace:i,state:u,target:o,to:h,preventScrollReset:f,viewTransition:m}=e,v=ya(e,ba),{basename:p}=d.useContext(Oe),b,j=!1;if(typeof h=="string"&&Ra.test(h)&&(b=h,Ca))try{let C=new URL(window.location.href),y=h.startsWith("//")?new URL(C.protocol+h):new URL(h),S=Wt(y.pathname,p);y.origin===C.origin&&S!=null?h=S+y.search+y.hash:j=!0}catch{}let x=Jn(h,{relative:r}),P=Pa(h,{replace:i,state:u,target:o,preventScrollReset:f,relative:r,viewTransition:m});function E(C){a&&a(C),C.defaultPrevented||P(C)}return d.createElement("a",Et({},v,{href:b||x,onClick:j||l?a:E,ref:n,target:o}))});var os;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(os||(os={}));var cs;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cs||(cs={}));function Pa(t,e){let{target:n,replace:a,state:r,preventScrollReset:l,relative:i,viewTransition:u}=e===void 0?{}:e,o=Xn(),h=lt(),f=zs(t,{relative:i});return d.useCallback(m=>{if(va(m,n)){m.preventDefault();let v=a!==void 0?a:ft(h)===ft(f);o(t,{replace:v,state:r,preventScrollReset:l,relative:i,viewTransition:u})}},[h,o,f,a,r,n,t,l,i,u])}var Ye=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ta={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ie,Qt,Ps,Ea=(Ps=class{constructor(){w(this,ie,Ta);w(this,Qt,!1)}setTimeoutProvider(t){g(this,ie,t)}setTimeout(t,e){return c(this,ie).setTimeout(t,e)}clearTimeout(t){c(this,ie).clearTimeout(t)}setInterval(t,e){return c(this,ie).setInterval(t,e)}clearInterval(t){c(this,ie).clearInterval(t)}},ie=new WeakMap,Qt=new WeakMap,Ps),je=new Ea;function Sa(t){setTimeout(t,0)}var Ae=typeof window>"u"||"Deno"in globalThis;function U(){}function La(t,e){return typeof t=="function"?t(e):t}function St(t){return typeof t=="number"&&t>=0&&t!==1/0}function Js(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ge(t,e){return typeof t=="function"?t(e):t}function W(t,e){return typeof t=="function"?t(e):t}function us(t,e){const{type:n="all",exact:a,fetchStatus:r,predicate:l,queryKey:i,stale:u}=t;if(i){if(a){if(e.queryHash!==Kt(i,e.options))return!1}else if(!tt(e.queryKey,i))return!1}if(n!=="all"){const o=e.isActive();if(n==="active"&&!o||n==="inactive"&&o)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||l&&!l(e))}function ds(t,e){const{exact:n,status:a,predicate:r,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Fe(e.options.mutationKey)!==Fe(l))return!1}else if(!tt(e.options.mutationKey,l))return!1}return!(a&&e.state.status!==a||r&&!r(e))}function Kt(t,e){return(e?.queryKeyHashFn||Fe)(t)}function Fe(t){return JSON.stringify(t,(e,n)=>Lt(n)?Object.keys(n).sort().reduce((a,r)=>(a[r]=n[r],a),{}):n)}function tt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>tt(t[n],e[n])):!1}var Aa=Object.prototype.hasOwnProperty;function Xs(t,e){if(t===e)return t;const n=hs(t)&&hs(e);if(!n&&!(Lt(t)&&Lt(e)))return e;const r=(n?t:Object.keys(t)).length,l=n?e:Object.keys(e),i=l.length,u=n?new Array(i):{};let o=0;for(let h=0;h<i;h++){const f=n?h:l[h],m=t[f],v=e[f];if(m===v){u[f]=m,(n?h<r:Aa.call(t,f))&&o++;continue}if(m===null||v===null||typeof m!="object"||typeof v!="object"){u[f]=v;continue}const p=Xs(m,v);u[f]=p,p===m&&o++}return r===i&&o===r?t:u}function pt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lt(t){if(!ms(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ms(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ms(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fa(t){return new Promise(e=>{je.setTimeout(e,t)})}function At(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Xs(t,e):e}function Oa(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function Ma(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var Ht=Symbol();function en(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ht?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function tn(t,e){return typeof t=="function"?t(...e):!!t}var we,le,_e,Ts,Ia=(Ts=class extends Ye{constructor(){super();w(this,we);w(this,le);w(this,_e);g(this,_e,e=>{if(!Ae&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){c(this,le)||this.setEventListener(c(this,_e))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,le))==null||e.call(this),g(this,le,void 0))}setEventListener(e){var n;g(this,_e,e),(n=c(this,le))==null||n.call(this),g(this,le,e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(e){c(this,we)!==e&&(g(this,we,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof c(this,we)=="boolean"?c(this,we):globalThis.document?.visibilityState!=="hidden"}},we=new WeakMap,le=new WeakMap,_e=new WeakMap,Ts),zt=new Ia;function Ft(){let t,e;const n=new Promise((r,l)=>{t=r,e=l});n.status="pending",n.catch(()=>{});function a(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{a({status:"fulfilled",value:r}),t(r)},n.reject=r=>{a({status:"rejected",reason:r}),e(r)},n}var ka=Sa;function _a(){let t=[],e=0,n=u=>{u()},a=u=>{u()},r=ka;const l=u=>{e?t.push(u):r(()=>{n(u)})},i=()=>{const u=t;t=[],u.length&&r(()=>{a(()=>{u.forEach(o=>{n(o)})})})};return{batch:u=>{let o;e++;try{o=u()}finally{e--,e||i()}return o},batchCalls:u=>(...o)=>{l(()=>{u(...o)})},schedule:l,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{r=u}}}var O=_a(),Ue,oe,De,Es,Ua=(Es=class extends Ye{constructor(){super();w(this,Ue,!0);w(this,oe);w(this,De);g(this,De,e=>{if(!Ae&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){c(this,oe)||this.setEventListener(c(this,De))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,oe))==null||e.call(this),g(this,oe,void 0))}setEventListener(e){var n;g(this,De,e),(n=c(this,oe))==null||n.call(this),g(this,oe,e(this.setOnline.bind(this)))}setOnline(e){c(this,Ue)!==e&&(g(this,Ue,e),this.listeners.forEach(a=>{a(e)}))}isOnline(){return c(this,Ue)}},Ue=new WeakMap,oe=new WeakMap,De=new WeakMap,Es),xt=new Ua;function Da(t){return Math.min(1e3*2**t,3e4)}function sn(t){return(t??"online")==="online"?xt.isOnline():!0}var Ot=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function nn(t){let e=!1,n=0,a;const r=Ft(),l=()=>r.status!=="pending",i=j=>{if(!l()){const x=new Ot(j);v(x),t.onCancel?.(x)}},u=()=>{e=!0},o=()=>{e=!1},h=()=>zt.isFocused()&&(t.networkMode==="always"||xt.isOnline())&&t.canRun(),f=()=>sn(t.networkMode)&&t.canRun(),m=j=>{l()||(a?.(),r.resolve(j))},v=j=>{l()||(a?.(),r.reject(j))},p=()=>new Promise(j=>{a=x=>{(l()||h())&&j(x)},t.onPause?.()}).then(()=>{a=void 0,l()||t.onContinue?.()}),b=()=>{if(l())return;let j;const x=n===0?t.initialPromise:void 0;try{j=x??t.fn()}catch(P){j=Promise.reject(P)}Promise.resolve(j).then(m).catch(P=>{if(l())return;const E=t.retry??(Ae?0:3),C=t.retryDelay??Da,y=typeof C=="function"?C(n,P):C,S=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,P);if(e||!S){v(P);return}n++,t.onFail?.(n,P),Fa(y).then(()=>h()?void 0:p()).then(()=>{e?v(P):b()})})};return{promise:r,status:()=>r.status,cancel:i,continue:()=>(a?.(),r),cancelRetry:u,continueRetry:o,canStart:f,start:()=>(f()?b():p().then(b),r)}}var Ne,Ss,an=(Ss=class{constructor(){w(this,Ne)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),St(this.gcTime)&&g(this,Ne,je.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ae?1/0:5*60*1e3))}clearGcTimeout(){c(this,Ne)&&(je.clearTimeout(c(this,Ne)),g(this,Ne,void 0))}},Ne=new WeakMap,Ss),Ce,Be,Q,Re,M,st,Pe,K,J,Ls,Ba=(Ls=class extends an{constructor(e){super();w(this,K);w(this,Ce);w(this,Be);w(this,Q);w(this,Re);w(this,M);w(this,st);w(this,Pe);g(this,Pe,!1),g(this,st,e.defaultOptions),this.setOptions(e.options),this.observers=[],g(this,Re,e.client),g(this,Q,c(this,Re).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,g(this,Ce,fs(this.options)),this.state=e.state??c(this,Ce),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return c(this,M)?.promise}setOptions(e){if(this.options={...c(this,st),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=fs(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),g(this,Ce,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,Q).remove(this)}setData(e,n){const a=At(this.state.data,e,this.options);return R(this,K,J).call(this,{data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){R(this,K,J).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){const n=c(this,M)?.promise;return c(this,M)?.cancel(e),n?n.then(U).catch(U):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,Ce))}isActive(){return this.observers.some(e=>W(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ht||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ge(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Js(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),c(this,M)?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),c(this,M)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,Q).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(c(this,M)&&(c(this,Pe)?c(this,M).cancel({revert:!0}):c(this,M).cancelRetry()),this.scheduleGc()),c(this,Q).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||R(this,K,J).call(this,{type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&c(this,M)?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(c(this,M))return c(this,M).continueRetry(),c(this,M).promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(h=>h.options.queryFn);o&&this.setOptions(o.options)}const a=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(g(this,Pe,!0),a.signal)})},l=()=>{const o=en(this.options,n),f=(()=>{const m={client:c(this,Re),queryKey:this.queryKey,meta:this.meta};return r(m),m})();return g(this,Pe,!1),this.options.persister?this.options.persister(o,f,this):o(f)},u=(()=>{const o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:c(this,Re),state:this.state,fetchFn:l};return r(o),o})();this.options.behavior?.onFetch(u,this),g(this,Be,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&R(this,K,J).call(this,{type:"fetch",meta:u.fetchOptions?.meta}),g(this,M,nn({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:o=>{o instanceof Ot&&o.revert&&this.setState({...c(this,Be),fetchStatus:"idle"}),a.abort()},onFail:(o,h)=>{R(this,K,J).call(this,{type:"failed",failureCount:o,error:h})},onPause:()=>{R(this,K,J).call(this,{type:"pause"})},onContinue:()=>{R(this,K,J).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const o=await c(this,M).start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),c(this,Q).config.onSuccess?.(o,this),c(this,Q).config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Ot){if(o.silent)return c(this,M).promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw R(this,K,J).call(this,{type:"error",error:o}),c(this,Q).config.onError?.(o,this),c(this,Q).config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}},Ce=new WeakMap,Be=new WeakMap,Q=new WeakMap,Re=new WeakMap,M=new WeakMap,st=new WeakMap,Pe=new WeakMap,K=new WeakSet,J=function(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...rn(a.data,this.options),fetchMeta:e.meta??null};case"success":const r={...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return g(this,Be,e.manual?r:void 0),r;case"error":const l=e.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),O.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),c(this,Q).notify({query:this,type:"updated",action:e})})},Ls);function rn(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sn(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fs(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var D,T,nt,k,Te,qe,X,ce,at,$e,Qe,Ee,Se,ue,We,L,Je,Mt,It,kt,_t,Ut,Dt,Bt,ln,As,qa=(As=class extends Ye{constructor(e,n){super();w(this,L);w(this,D);w(this,T);w(this,nt);w(this,k);w(this,Te);w(this,qe);w(this,X);w(this,ce);w(this,at);w(this,$e);w(this,Qe);w(this,Ee);w(this,Se);w(this,ue);w(this,We,new Set);this.options=n,g(this,D,e),g(this,ce,null),g(this,X,Ft()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(c(this,T).addObserver(this),ps(c(this,T),this.options)?R(this,L,Je).call(this):this.updateResult(),R(this,L,_t).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qt(c(this,T),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qt(c(this,T),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,R(this,L,Ut).call(this),R(this,L,Dt).call(this),c(this,T).removeObserver(this)}setOptions(e){const n=this.options,a=c(this,T);if(this.options=c(this,D).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof W(this.options.enabled,c(this,T))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");R(this,L,Bt).call(this),c(this,T).setOptions(this.options),n._defaulted&&!pt(this.options,n)&&c(this,D).getQueryCache().notify({type:"observerOptionsUpdated",query:c(this,T),observer:this});const r=this.hasListeners();r&&xs(c(this,T),a,this.options,n)&&R(this,L,Je).call(this),this.updateResult(),r&&(c(this,T)!==a||W(this.options.enabled,c(this,T))!==W(n.enabled,c(this,T))||ge(this.options.staleTime,c(this,T))!==ge(n.staleTime,c(this,T)))&&R(this,L,Mt).call(this);const l=R(this,L,It).call(this);r&&(c(this,T)!==a||W(this.options.enabled,c(this,T))!==W(n.enabled,c(this,T))||l!==c(this,ue))&&R(this,L,kt).call(this,l)}getOptimisticResult(e){const n=c(this,D).getQueryCache().build(c(this,D),e),a=this.createResult(n,e);return Qa(this,a)&&(g(this,k,a),g(this,qe,this.options),g(this,Te,c(this,T).state)),a}getCurrentResult(){return c(this,k)}trackResult(e,n){return new Proxy(e,{get:(a,r)=>(this.trackProp(r),n?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&c(this,X).status==="pending"&&c(this,X).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(a,r))})}trackProp(e){c(this,We).add(e)}getCurrentQuery(){return c(this,T)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=c(this,D).defaultQueryOptions(e),a=c(this,D).getQueryCache().build(c(this,D),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return R(this,L,Je).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),c(this,k)))}createResult(e,n){const a=c(this,T),r=this.options,l=c(this,k),i=c(this,Te),u=c(this,qe),h=e!==a?e.state:c(this,nt),{state:f}=e;let m={...f},v=!1,p;if(n._optimisticResults){const $=this.hasListeners(),ot=!$&&ps(e,n),Ie=$&&xs(e,a,n,r);(ot||Ie)&&(m={...m,...rn(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:x}=m;p=m.data;let P=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let $;l?.isPlaceholderData&&n.placeholderData===u?.placeholderData?($=l.data,P=!0):$=typeof n.placeholderData=="function"?n.placeholderData(c(this,Qe)?.state.data,c(this,Qe)):n.placeholderData,$!==void 0&&(x="success",p=At(l?.data,$,n),v=!0)}if(n.select&&p!==void 0&&!P)if(l&&p===i?.data&&n.select===c(this,at))p=c(this,$e);else try{g(this,at,n.select),p=n.select(p),p=At(l?.data,p,n),g(this,$e,p),g(this,ce,null)}catch($){g(this,ce,$)}c(this,ce)&&(b=c(this,ce),p=c(this,$e),j=Date.now(),x="error");const E=m.fetchStatus==="fetching",C=x==="pending",y=x==="error",S=C&&E,ne=p!==void 0,z={status:x,fetchStatus:m.fetchStatus,isPending:C,isSuccess:x==="success",isError:y,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:y&&!ne,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:y&&ne,isStale:Gt(e,n),refetch:this.refetch,promise:c(this,X),isEnabled:W(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=ct=>{z.status==="error"?ct.reject(z.error):z.data!==void 0&&ct.resolve(z.data)},ot=()=>{const ct=g(this,X,z.promise=Ft());$(ct)},Ie=c(this,X);switch(Ie.status){case"pending":e.queryHash===a.queryHash&&$(Ie);break;case"fulfilled":(z.status==="error"||z.data!==Ie.value)&&ot();break;case"rejected":(z.status!=="error"||z.error!==Ie.reason)&&ot();break}}return z}updateResult(){const e=c(this,k),n=this.createResult(c(this,T),this.options);if(g(this,Te,c(this,T).state),g(this,qe,this.options),c(this,Te).data!==void 0&&g(this,Qe,c(this,T)),pt(n,e))return;g(this,k,n);const a=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,l=typeof r=="function"?r():r;if(l==="all"||!l&&!c(this,We).size)return!0;const i=new Set(l??c(this,We));return this.options.throwOnError&&i.add("error"),Object.keys(c(this,k)).some(u=>{const o=u;return c(this,k)[o]!==e[o]&&i.has(o)})};R(this,L,ln).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&R(this,L,_t).call(this)}},D=new WeakMap,T=new WeakMap,nt=new WeakMap,k=new WeakMap,Te=new WeakMap,qe=new WeakMap,X=new WeakMap,ce=new WeakMap,at=new WeakMap,$e=new WeakMap,Qe=new WeakMap,Ee=new WeakMap,Se=new WeakMap,ue=new WeakMap,We=new WeakMap,L=new WeakSet,Je=function(e){R(this,L,Bt).call(this);let n=c(this,T).fetch(this.options,e);return e?.throwOnError||(n=n.catch(U)),n},Mt=function(){R(this,L,Ut).call(this);const e=ge(this.options.staleTime,c(this,T));if(Ae||c(this,k).isStale||!St(e))return;const a=Js(c(this,k).dataUpdatedAt,e)+1;g(this,Ee,je.setTimeout(()=>{c(this,k).isStale||this.updateResult()},a))},It=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(c(this,T)):this.options.refetchInterval)??!1},kt=function(e){R(this,L,Dt).call(this),g(this,ue,e),!(Ae||W(this.options.enabled,c(this,T))===!1||!St(c(this,ue))||c(this,ue)===0)&&g(this,Se,je.setInterval(()=>{(this.options.refetchIntervalInBackground||zt.isFocused())&&R(this,L,Je).call(this)},c(this,ue)))},_t=function(){R(this,L,Mt).call(this),R(this,L,kt).call(this,R(this,L,It).call(this))},Ut=function(){c(this,Ee)&&(je.clearTimeout(c(this,Ee)),g(this,Ee,void 0))},Dt=function(){c(this,Se)&&(je.clearInterval(c(this,Se)),g(this,Se,void 0))},Bt=function(){const e=c(this,D).getQueryCache().build(c(this,D),this.options);if(e===c(this,T))return;const n=c(this,T);g(this,T,e),g(this,nt,e.state),this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))},ln=function(e){O.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(c(this,k))}),c(this,D).getQueryCache().notify({query:c(this,T),type:"observerResultsUpdated"})})},As);function $a(t,e){return W(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ps(t,e){return $a(t,e)||t.state.data!==void 0&&qt(t,e,e.refetchOnMount)}function qt(t,e,n){if(W(e.enabled,t)!==!1&&ge(e.staleTime,t)!=="static"){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&Gt(t,e)}return!1}function xs(t,e,n,a){return(t!==e||W(a.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Gt(t,n)}function Gt(t,e){return W(e.enabled,t)!==!1&&t.isStaleByTime(ge(e.staleTime,t))}function Qa(t,e){return!pt(t.getCurrentResult(),e)}function ys(t){return{onFetch:(e,n)=>{const a=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],i=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},o=0;const h=async()=>{let f=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},v=en(e.options,e.fetchOptions),p=async(b,j,x)=>{if(f)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const ne={client:e.client,queryKey:e.queryKey,pageParam:j,direction:x?"backward":"forward",meta:e.options.meta};return m(ne),ne})(),C=await v(E),{maxPages:y}=e.options,S=x?Ma:Oa;return{pages:S(b.pages,C,y),pageParams:S(b.pageParams,j,y)}};if(r&&l.length){const b=r==="backward",j=b?Wa:gs,x={pages:l,pageParams:i},P=j(a,x);u=await p(x,P,b)}else{const b=t??l.length;do{const j=o===0?i[0]??a.initialPageParam:gs(a,u);if(o>0&&j==null)break;u=await p(u,j),o++}while(o<b)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function gs(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function Wa(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var G,_,Le,Y,re,Fs,Va=(Fs=class extends an{constructor(e){super();w(this,Y);w(this,G);w(this,_);w(this,Le);this.mutationId=e.mutationId,g(this,_,e.mutationCache),g(this,G,[]),this.state=e.state||on(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,G).includes(e)||(c(this,G).push(e),this.clearGcTimeout(),c(this,_).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){g(this,G,c(this,G).filter(n=>n!==e)),this.scheduleGc(),c(this,_).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,G).length||(this.state.status==="pending"?this.scheduleGc():c(this,_).remove(this))}continue(){return c(this,Le)?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{R(this,Y,re).call(this,{type:"continue"})};g(this,Le,nn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,i)=>{R(this,Y,re).call(this,{type:"failed",failureCount:l,error:i})},onPause:()=>{R(this,Y,re).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,_).canRun(this)}));const a=this.state.status==="pending",r=!c(this,Le).canStart();try{if(a)n();else{R(this,Y,re).call(this,{type:"pending",variables:e,isPaused:r}),await c(this,_).config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&R(this,Y,re).call(this,{type:"pending",context:i,variables:e,isPaused:r})}const l=await c(this,Le).start();return await c(this,_).config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await c(this,_).config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),R(this,Y,re).call(this,{type:"success",data:l}),l}catch(l){try{throw await c(this,_).config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await c(this,_).config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{R(this,Y,re).call(this,{type:"error",error:l})}}finally{c(this,_).runNext(this)}}},G=new WeakMap,_=new WeakMap,Le=new WeakMap,Y=new WeakSet,re=function(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),O.batch(()=>{c(this,G).forEach(a=>{a.onMutationUpdate(e)}),c(this,_).notify({mutation:this,type:"updated",action:e})})},Fs);function on(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ee,H,rt,Os,Ka=(Os=class extends Ye{constructor(e={}){super();w(this,ee);w(this,H);w(this,rt);this.config=e,g(this,ee,new Set),g(this,H,new Map),g(this,rt,0)}build(e,n,a){const r=new Va({mutationCache:this,mutationId:++ut(this,rt)._,options:e.defaultMutationOptions(n),state:a});return this.add(r),r}add(e){c(this,ee).add(e);const n=dt(e);if(typeof n=="string"){const a=c(this,H).get(n);a?a.push(e):c(this,H).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(c(this,ee).delete(e)){const n=dt(e);if(typeof n=="string"){const a=c(this,H).get(n);if(a)if(a.length>1){const r=a.indexOf(e);r!==-1&&a.splice(r,1)}else a[0]===e&&c(this,H).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=dt(e);if(typeof n=="string"){const r=c(this,H).get(n)?.find(l=>l.state.status==="pending");return!r||r===e}else return!0}runNext(e){const n=dt(e);return typeof n=="string"?c(this,H).get(n)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){O.batch(()=>{c(this,ee).forEach(e=>{this.notify({type:"removed",mutation:e})}),c(this,ee).clear(),c(this,H).clear()})}getAll(){return Array.from(c(this,ee))}find(e){const n={exact:!0,...e};return this.getAll().find(a=>ds(n,a))}findAll(e={}){return this.getAll().filter(n=>ds(e,n))}notify(e){O.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return O.batch(()=>Promise.all(e.map(n=>n.continue().catch(U))))}},ee=new WeakMap,H=new WeakMap,rt=new WeakMap,Os);function dt(t){return t.options.scope?.id}var de,he,B,te,se,mt,$t,Ms,Ha=(Ms=class extends Ye{constructor(n,a){super();w(this,se);w(this,de);w(this,he);w(this,B);w(this,te);g(this,de,n),this.setOptions(a),this.bindMethods(),R(this,se,mt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const a=this.options;this.options=c(this,de).defaultMutationOptions(n),pt(this.options,a)||c(this,de).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,B),observer:this}),a?.mutationKey&&this.options.mutationKey&&Fe(a.mutationKey)!==Fe(this.options.mutationKey)?this.reset():c(this,B)?.state.status==="pending"&&c(this,B).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||c(this,B)?.removeObserver(this)}onMutationUpdate(n){R(this,se,mt).call(this),R(this,se,$t).call(this,n)}getCurrentResult(){return c(this,he)}reset(){c(this,B)?.removeObserver(this),g(this,B,void 0),R(this,se,mt).call(this),R(this,se,$t).call(this)}mutate(n,a){return g(this,te,a),c(this,B)?.removeObserver(this),g(this,B,c(this,de).getMutationCache().build(c(this,de),this.options)),c(this,B).addObserver(this),c(this,B).execute(n)}},de=new WeakMap,he=new WeakMap,B=new WeakMap,te=new WeakMap,se=new WeakSet,mt=function(){const n=c(this,B)?.state??on();g(this,he,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},$t=function(n){O.batch(()=>{if(c(this,te)&&this.hasListeners()){const a=c(this,he).variables,r=c(this,he).context;n?.type==="success"?(c(this,te).onSuccess?.(n.data,a,r),c(this,te).onSettled?.(n.data,null,a,r)):n?.type==="error"&&(c(this,te).onError?.(n.error,a,r),c(this,te).onSettled?.(void 0,n.error,a,r))}this.listeners.forEach(a=>{a(c(this,he))})})},Ms),Z,Is,za=(Is=class extends Ye{constructor(e={}){super();w(this,Z);this.config=e,g(this,Z,new Map)}build(e,n,a){const r=n.queryKey,l=n.queryHash??Kt(r,n);let i=this.get(l);return i||(i=new Ba({client:e,queryKey:r,queryHash:l,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){c(this,Z).has(e.queryHash)||(c(this,Z).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=c(this,Z).get(e.queryHash);n&&(e.destroy(),n===e&&c(this,Z).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){O.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,Z).get(e)}getAll(){return[...c(this,Z).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>us(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>us(e,a)):n}notify(e){O.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){O.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){O.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Z=new WeakMap,Is),A,me,fe,Ve,Ke,pe,He,ze,ks,Ga=(ks=class{constructor(t={}){w(this,A);w(this,me);w(this,fe);w(this,Ve);w(this,Ke);w(this,pe);w(this,He);w(this,ze);g(this,A,t.queryCache||new za),g(this,me,t.mutationCache||new Ka),g(this,fe,t.defaultOptions||{}),g(this,Ve,new Map),g(this,Ke,new Map),g(this,pe,0)}mount(){ut(this,pe)._++,c(this,pe)===1&&(g(this,He,zt.subscribe(async t=>{t&&(await this.resumePausedMutations(),c(this,A).onFocus())})),g(this,ze,xt.subscribe(async t=>{t&&(await this.resumePausedMutations(),c(this,A).onOnline())})))}unmount(){var t,e;ut(this,pe)._--,c(this,pe)===0&&((t=c(this,He))==null||t.call(this),g(this,He,void 0),(e=c(this,ze))==null||e.call(this),g(this,ze,void 0))}isFetching(t){return c(this,A).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return c(this,me).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return c(this,A).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=c(this,A).build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ge(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return c(this,A).findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),l=c(this,A).get(a.queryHash)?.state.data,i=La(e,l);if(i!==void 0)return c(this,A).build(this,a).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return O.batch(()=>c(this,A).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return c(this,A).get(e.queryHash)?.state}removeQueries(t){const e=c(this,A);O.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=c(this,A);return O.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=O.batch(()=>c(this,A).findAll(t).map(r=>r.cancel(n)));return Promise.all(a).then(U).catch(U)}invalidateQueries(t,e={}){return O.batch(()=>(c(this,A).findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=O.batch(()=>c(this,A).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let l=r.fetch(void 0,n);return n.throwOnError||(l=l.catch(U)),r.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(U)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=c(this,A).build(this,e);return n.isStaleByTime(ge(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(U).catch(U)}fetchInfiniteQuery(t){return t.behavior=ys(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(U).catch(U)}ensureInfiniteQueryData(t){return t.behavior=ys(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xt.isOnline()?c(this,me).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,A)}getMutationCache(){return c(this,me)}getDefaultOptions(){return c(this,fe)}setDefaultOptions(t){g(this,fe,t)}setQueryDefaults(t,e){c(this,Ve).set(Fe(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...c(this,Ve).values()],n={};return e.forEach(a=>{tt(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){c(this,Ke).set(Fe(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...c(this,Ke).values()],n={};return e.forEach(a=>{tt(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...c(this,fe).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ht&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...c(this,fe).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){c(this,A).clear(),c(this,me).clear()}},A=new WeakMap,me=new WeakMap,fe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,pe=new WeakMap,He=new WeakMap,ze=new WeakMap,ks),cn=d.createContext(void 0),Yt=t=>{const e=d.useContext(cn);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ya=({client:t,children:e})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(cn.Provider,{value:t,children:e})),un=d.createContext(!1),Za=()=>d.useContext(un);un.Provider;function Ja(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Xa=d.createContext(Ja()),er=()=>d.useContext(Xa),tr=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},sr=t=>{d.useEffect(()=>{t.clearReset()},[t])},nr=({result:t,errorResetBoundary:e,throwOnError:n,query:a,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(r&&t.data===void 0||tn(n,[t.error,a])),ar=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...r)=>n(a(...r)):n(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},rr=(t,e)=>t.isLoading&&t.isFetching&&!e,ir=(t,e)=>t?.suspense&&e.isPending,vs=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function lr(t,e,n){const a=Za(),r=er(),l=Yt(),i=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=a?"isRestoring":"optimistic",ar(i),tr(i,r),sr(r);const u=!l.getQueryCache().get(i.queryHash),[o]=d.useState(()=>new e(l,i)),h=o.getOptimisticResult(i),f=!a&&t.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(m=>{const v=f?o.subscribe(O.batchCalls(m)):U;return o.updateResult(),v},[o,f]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),d.useEffect(()=>{o.setOptions(i)},[i,o]),ir(i,h))throw vs(i,o,r);if(nr({result:h,errorResetBoundary:r,throwOnError:i.throwOnError,query:l.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw h.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(i,h),i.experimental_prefetchInRender&&!Ae&&rr(h,a)&&(u?vs(i,o,r):l.getQueryCache().get(i.queryHash)?.promise)?.catch(U).finally(()=>{o.updateResult()}),i.notifyOnChangeProps?h:o.trackResult(h)}function ve(t,e){return lr(t,qa)}function ae(t,e){const n=Yt(),[a]=d.useState(()=>new Ha(n,t));d.useEffect(()=>{a.setOptions(t)},[a,t]);const r=d.useSyncExternalStore(d.useCallback(i=>a.subscribe(O.batchCalls(i)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=d.useCallback((i,u)=>{a.mutate(i,u).catch(U)},[a]);if(r.error&&tn(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}const dn=d.createContext(void 0),vt=()=>{const t=d.useContext(dn);if(t===void 0)throw new Error("useWallet must be used within a WalletProvider");return t},or=({children:t})=>{const[e,n]=d.useState(!1),[a,r]=d.useState(null),[l,i]=d.useState(null),[u,o]=d.useState(null),[h,f]=d.useState(!1),[m,v]=d.useState(null),p=()=>typeof window<"u"&&"aptos"in window?window.aptos:null;d.useEffect(()=>{(async()=>{const y=p();if(y)try{if(await y.isConnected()){const ne=await y.account(),Xt=await y.network();n(!0),r(ne.address),i(ne.publicKey),o(Xt)}}catch(S){console.error("Error checking wallet connection:",S)}})()},[]);const b=async()=>{const C=p();if(!C){console.log("Petra wallet not found, using mock wallet for development"),f(!0),v(null),await new Promise(y=>setTimeout(y,1e3)),n(!0),r("0x593c05afb0b61418fd5c87aa150f57ed70eb4761fe555645f4822cb374ddae0f"),i("0xmockpubkey"),o("devnet"),f(!1);return}f(!0),v(null);try{const y=await C.connect(),S=await C.network();n(!0),r(y.address),i(y.publicKey),o(S),v(null)}catch(y){console.error("Error connecting wallet:",y),v(y.message||"Failed to connect wallet"),n(!1),r(null),i(null),o(null)}finally{f(!1)}},j=async()=>{const C=p();if(C)try{await C.disconnect()}catch(y){console.error("Error disconnecting wallet:",y)}n(!1),r(null),i(null),o(null),v(null)},E={connected:e,account:a,publicKey:l,network:u,connecting:h,error:m,connectWallet:b,disconnectWallet:j,signAndSubmitTransaction:async C=>{const y=p();if(!y||!e)throw new Error("Wallet not connected");try{return await y.signAndSubmitTransaction(C)}catch(S){throw console.error("Transaction failed:",S),S}},signMessage:async C=>{const y=p();if(!y||!e)throw new Error("Wallet not connected");try{return await y.signMessage(C)}catch(S){throw console.error("Message signing failed:",S),S}},connect:b,disconnect:j};return s.jsx(dn.Provider,{value:E,children:t})},hn=d.createContext(void 0),Zt=()=>{const t=d.useContext(hn);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},cr=({children:t})=>{const[e,n]=d.useState([]),a=(u,o,h=5e3)=>{const f=Math.random().toString(36).substr(2,9),m={id:f,type:u,message:o,duration:h};n(v=>[...v,m]),h>0&&setTimeout(()=>{r(f)},h)},r=u=>{n(o=>o.filter(h=>h.id!==u))},l=u=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},i=u=>{switch(u){case"success":return s.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return s.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});default:return null}};return s.jsxs(hn.Provider,{value:{showToast:a,hideToast:r},children:[t,s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.jsx(_s,{children:e.map(u=>s.jsx(N.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5,transition:{duration:.2}},className:`max-w-sm w-full shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden ${l(u.type)}`,children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:i(u.type)}),s.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:s.jsx("p",{className:"text-sm font-medium",children:u.message})}),s.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:s.jsx("button",{className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",onClick:()=>r(u.id),children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})},u.id))})})]})};function ur({children:t}){const[e,n]=d.useState(!1),{connected:a,connecting:r,account:l,network:i,connectWallet:u,disconnectWallet:o,error:h}=vt(),{showToast:f}=Zt(),m=lt(),v=async()=>{try{a?(await o(),f("info","Wallet disconnected")):(await u(),f("success","Wallet connected successfully"))}catch(x){f("error",x.message||"Failed to connect wallet")}},p=x=>x?`${x.slice(0,6)}...${x.slice(-4)}`:"",b=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/lend",label:"Lend",icon:"💰"},{path:"/borrow",label:"Borrow",icon:"🏦"},{path:"/portfolio",label:"Portfolio",icon:"📊"},{path:"/auctions",label:"Auctions",icon:"⚡"}],j=x=>m.pathname===x;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[s.jsx("header",{className:"bg-white/90 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-3",children:s.jsxs(ke,{to:"/",className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-gradient",children:"Aura"}),s.jsx("span",{className:"text-2xl font-bold text-gray-800 ml-1",children:"Lend"})]})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:b.map((x,P)=>s.jsx(N.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:P*.1},children:s.jsxs(ke,{to:x.path,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 flex items-center space-x-2 ${j(x.path)?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx("span",{children:x.icon}),s.jsx("span",{children:x.label})]})},x.path))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[a&&i&&s.jsxs(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"hidden sm:flex items-center space-x-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"capitalize",children:i})]}),s.jsx(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:r,className:`${a?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800"} text-white px-6 py-2 rounded-xl font-semibold shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2`,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Connecting..."})]}):a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),s.jsx("span",{className:"hidden sm:inline",children:p(l)}),s.jsx("span",{className:"sm:hidden",children:"Connected"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),s.jsx("span",{children:"Connect Wallet"})]})}),s.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),s.jsx(_s,{children:e&&s.jsx(N.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[b.map(x=>s.jsxs(ke,{to:x.path,onClick:()=>n(!1),className:`px-4 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-3 ${j(x.path)?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx("span",{children:x.icon}),s.jsx("span",{children:x.label})]},x.path)),a&&i&&s.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsxs("span",{children:["Connected to ",i]})]})]})})})]})}),h&&s.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"bg-red-50 border-b border-red-200 px-4 py-3",children:s.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-red-700 font-medium",children:h})]})})}),s.jsx("main",{className:"flex-1",children:t}),s.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-gray-600",children:[s.jsx("span",{children:"© 2024 Aura Lend"}),s.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),s.jsx("span",{children:"Powered by Aptos"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Documentation"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"Support"}),s.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors duration-200",children:"GitHub"})]})]})})})]})}const dr=({size:t="medium",className:e=""})=>{const n={small:"w-32 h-32",medium:"w-48 h-48 md:w-64 md:h-64",large:"w-64 h-64 md:w-80 md:h-80"};return s.jsxs("div",{className:`earth-container ${e}`,children:[s.jsxs(N.div,{className:`earth-sphere relative ${n[t]}`,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:1.5,ease:"easeOut",delay:.2},whileHover:{scale:1.05,transition:{duration:.3}},children:[s.jsxs("div",{className:"absolute inset-0 rounded-full opacity-40",children:[s.jsx("div",{className:"absolute top-6 left-8 w-8 h-6 bg-green-400 rounded-full transform rotate-12 opacity-60"}),s.jsx("div",{className:"absolute top-4 left-1/2 w-4 h-3 bg-green-400 rounded-full transform -rotate-6 opacity-60"}),s.jsx("div",{className:"absolute top-6 right-6 w-12 h-8 bg-green-400 rounded-full transform rotate-45 opacity-50"}),s.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-6 h-12 bg-green-400 rounded-full opacity-60"}),s.jsx("div",{className:"absolute bottom-8 right-10 w-4 h-3 bg-green-400 rounded-full transform -rotate-12 opacity-60"}),s.jsx("div",{className:"absolute bottom-6 left-8 w-4 h-8 bg-green-400 rounded-full transform rotate-6 opacity-60"})]}),s.jsxs(N.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 via-transparent to-white/10",animate:{rotateY:360},transition:{duration:30,repeat:1/0,ease:"linear"},children:[s.jsx("div",{className:"absolute top-8 left-12 w-6 h-3 bg-white/30 rounded-full blur-sm"}),s.jsx("div",{className:"absolute top-16 right-8 w-8 h-4 bg-white/25 rounded-full blur-sm"}),s.jsx("div",{className:"absolute bottom-12 left-6 w-5 h-2 bg-white/30 rounded-full blur-sm"}),s.jsx("div",{className:"absolute bottom-16 right-12 w-7 h-3 bg-white/25 rounded-full blur-sm"})]}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400/20 to-blue-600/20 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_50px_rgba(59,130,246,0.3)] animate-glow"})]}),s.jsx(N.div,{className:"absolute inset-0 border-2 border-blue-300/20 rounded-full",style:{width:"120%",height:"120%",top:"-10%",left:"-10%"},animate:{rotateX:[0,360]},transition:{duration:40,repeat:1/0,ease:"linear"}}),s.jsx(N.div,{className:"absolute inset-0 border border-blue-200/20 rounded-full",style:{width:"140%",height:"140%",top:"-20%",left:"-20%"},animate:{rotateX:[360,0]},transition:{duration:60,repeat:1/0,ease:"linear"}}),s.jsx("div",{className:"absolute inset-0",children:[...Array(8)].map((a,r)=>s.jsx(N.div,{className:"absolute w-2 h-2 bg-blue-400/40 rounded-full",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},animate:{y:[0,-20,0],opacity:[.4,1,.4],scale:[1,1.5,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},r))})]})},ht={totalValueLocked:125e6,totalLoans:8432,totalNFTs:15678,activeUsers:3245},hr=[{id:1,type:"loan",nft:"Property NFT #1234",amount:"50 APT",status:"active"},{id:2,type:"repay",nft:"Property NFT #567",amount:"25 APT",status:"completed"},{id:3,type:"auction",nft:"Property NFT #890",amount:"15 APT",status:"bidding"}],mr=[{icon:"🔒",title:"Secure NFT Collateral",description:"Your Property NFTs are safely locked in smart contracts with full transparency and security guarantees."},{icon:"⚡",title:"Instant Liquidity",description:"Get instant access to liquidity by using your NFTs as collateral without selling them."},{icon:"📊",title:"Dynamic Pricing",description:"Advanced AI-powered pricing algorithms ensure fair market valuations for all NFTs."},{icon:"🌐",title:"Global Access",description:"Access the lending platform from anywhere in the world with just a crypto wallet."},{icon:"💎",title:"Premium Collections",description:"Support for top-tier NFT collections with optimized lending parameters."},{icon:"🤝",title:"Community Driven",description:"Decentralized governance allows the community to shape the platform's future."}];function bs(){const{connected:t,account:e}=vt(),{showToast:n}=Zt(),[a,r]=d.useState({totalValueLocked:0,totalLoans:0,totalNFTs:0,activeUsers:0});d.useEffect(()=>{const i=(u,o,h)=>{const p=(o-u)/40;let b=u;const j=setInterval(()=>{b+=p,p>0&&b>=o||p<0&&b<=o?(h(o),clearInterval(j)):h(Math.floor(b))},50)};setTimeout(()=>{i(0,ht.totalValueLocked,u=>r(o=>({...o,totalValueLocked:u}))),i(0,ht.totalLoans,u=>r(o=>({...o,totalLoans:u}))),i(0,ht.totalNFTs,u=>r(o=>({...o,totalNFTs:u}))),i(0,ht.activeUsers,u=>r(o=>({...o,activeUsers:u})))},500)},[]);const l=i=>i>=1e6?`$${(i/1e6).toFixed(1)}M`:`$${i.toLocaleString()}`;return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 via-white to-blue-50 py-20 lg:py-32",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-200/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-200/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"text-center lg:text-left",children:[s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["The Future of"," ",s.jsx("span",{className:"text-gradient bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:"NFT Lending"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl",children:"Unlock the value of your Property NFTs with instant liquidity. Lend, borrow, and trade with confidence on the most advanced DeFi platform built on Aptos."})]}),s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[s.jsx(ke,{to:t?"/lend":"#",onClick:()=>!t&&n("warning","Please connect your wallet first"),className:"btn-primary text-lg px-8 py-4",children:"Start Lending"}),s.jsx(ke,{to:t?"/borrow":"#",onClick:()=>!t&&n("warning","Please connect your wallet first"),className:"btn-secondary text-lg px-8 py-4",children:"Borrow Now"})]}),t&&s.jsxs(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-6 inline-flex items-center space-x-3 px-4 py-2 bg-green-100 text-green-700 rounded-full font-medium",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Wallet Connected"})]})]}),s.jsx(N.div,{initial:{opacity:0,scale:.5,rotateY:-90},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:1.2,delay:.3},className:"flex justify-center lg:justify-end",children:s.jsx(dr,{size:"large"})})]})})]}),s.jsx("section",{className:"py-16 bg-white border-y border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:l(a.totalValueLocked)}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Total Value Locked"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:a.totalLoans.toLocaleString()}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Active Loans"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:a.totalNFTs.toLocaleString()}),s.jsx("div",{className:"text-gray-600 font-medium",children:"NFTs Collateralized"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[a.activeUsers.toLocaleString(),"+"]}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Active Users"})]})]})})}),s.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Aura Lend?"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Experience the next generation of DeFi lending with cutting-edge features designed for the modern NFT ecosystem."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:mr.map((i,u)=>s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},className:"card-interactive text-center p-8",children:[s.jsx("div",{className:"text-4xl mb-4",children:i.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:i.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]},u))})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("p",{className:"text-xl text-gray-600",children:"See what's happening on the platform in real-time"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"space-y-4",children:hr.map((i,u)=>s.jsxs(N.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},className:"card flex items-center justify-between p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i.type==="loan"?"bg-blue-100 text-blue-600":i.type==="repay"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:i.type==="loan"?"💰":i.type==="repay"?"✅":"⚡"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900 capitalize",children:[i.type," - ",i.nft]}),s.jsxs("div",{className:"text-gray-600",children:["Amount: ",i.amount]})]})]}),s.jsx("div",{className:`badge ${i.status==="active"?"badge-primary":i.status==="completed"?"badge-success":"badge-warning"}`,children:i.status})]},i.id))})})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-blue-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who are already earning and borrowing with their NFTs"}),s.jsx(ke,{to:t?"/portfolio":"#",onClick:()=>!t&&n("info","Connect your wallet to access your portfolio"),className:"inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-blue-600 bg-white rounded-xl shadow-lg hover:bg-gray-50 hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Launch App"})]})})})]})}function fr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const js=d.forwardRef(fr);function pr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const ws=d.forwardRef(pr);function xr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const yr=d.forwardRef(xr);function gr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mn=d.forwardRef(gr);function vr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const br=d.forwardRef(vr);function jr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Ns=d.forwardRef(jr);function wr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))}const wt=d.forwardRef(wr);function Nr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Cr=d.forwardRef(Nr);function Rr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const Nt=d.forwardRef(Rr);function Pr({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Tr=d.forwardRef(Pr);function Er({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Cs=d.forwardRef(Er),Rs=Ct.DEVNET,Sr="0x593c05afb0b61418fd5c87aa150f57ed70eb4761fe555645f4822cb374ddae0f";function Lr(t){return t===Ct.MAINNET?"https://fullnode.mainnet.aptoslabs.com/v1":t===Ct.TESTNET?"https://fullnode.testnet.aptoslabs.com/v1":"https://fullnode.devnet.aptoslabs.com/v1"}const Ar=new yn({network:Rs,fullnode:Lr(Rs)}),Fr=new gn(Ar),Ze=Sr,q={PROPERTY_NFT:`${Ze}::property_nft`,LOAN_VAULT:`${Ze}::loan_vault`,AUCTION_HOUSE:`${Ze}::auction_house`,REGISTRY:`${Ze}::registry`,EVENTS:`${Ze}::events`};class Or{constructor(e=Fr){this.aptos=e}async mintPropertyNFT(e,n,a){const r=await this.aptos.transaction.build.simple({sender:e.accountAddress,data:{function:`${q.PROPERTY_NFT}::mint_property_nft`,functionArguments:[Array.from(new TextEncoder().encode(n)),a]}});return(await this.aptos.signAndSubmitTransaction({signer:e,transaction:r})).hash}async getPropertyNFT(e,n){try{const a=await this.aptos.view({payload:{function:`${q.PROPERTY_NFT}::get_property_nft`,functionArguments:[e,n]}}),[r,l,i,u,o,h,f,m]=a;return{property_id:r,owner:l,valuation_hash:new TextDecoder().decode(new Uint8Array(i)),is_attested:u,attestor:o,created_at:h,attested_at:f,metadata_uri:m}}catch(a){return console.error("Error fetching property NFT:",a),null}}async getUserProperties(e){try{return(await this.aptos.view({payload:{function:`${q.PROPERTY_NFT}::get_user_properties`,functionArguments:[e]}}))[0]}catch(n){return console.error("Error fetching user properties:",n),[]}}async createLoanRequest(e,n,a,r,l,i){const u=await this.aptos.transaction.build.simple({sender:e.accountAddress,data:{function:`${q.LOAN_VAULT}::create_loan_request`,functionArguments:[n,a,r,l,i]}});return(await this.aptos.signAndSubmitTransaction({signer:e,transaction:u})).hash}async fundLoan(e,n,a){const r=await this.aptos.transaction.build.simple({sender:e.accountAddress,data:{function:`${q.LOAN_VAULT}::fund_loan`,functionArguments:[n,a]}});return(await this.aptos.signAndSubmitTransaction({signer:e,transaction:r})).hash}async repayLoan(e,n,a){const r=await this.aptos.transaction.build.simple({sender:e.accountAddress,data:{function:`${q.LOAN_VAULT}::repay_loan`,functionArguments:[n,a]}});return(await this.aptos.signAndSubmitTransaction({signer:e,transaction:r})).hash}async getActiveLoanRequests(){try{return(await this.aptos.view({payload:{function:`${q.LOAN_VAULT}::get_active_loan_requests`,functionArguments:[]}}))[0]}catch(e){return console.error("Error fetching active loan requests:",e),[]}}async getActiveLoans(){try{return(await this.aptos.view({payload:{function:`${q.LOAN_VAULT}::get_active_loans`,functionArguments:[]}}))[0]}catch(e){return console.error("Error fetching active loans:",e),[]}}async getLoanRequest(e,n){try{const a=await this.aptos.view({payload:{function:`${q.LOAN_VAULT}::get_loan_request`,functionArguments:[e,n]}}),[r,l,i,u,o,h,f,m,v]=a;return{loan_id:r,borrower:l,nft_id:i,nft_owner:u,amount:o,interest_rate_bps:h,duration_secs:f,created_at:m,status:v}}catch(a){return console.error("Error fetching loan request:",a),null}}async getActiveAuctions(){try{return(await this.aptos.view({payload:{function:`${q.AUCTION_HOUSE}::get_active_auctions`,functionArguments:[]}}))[0]}catch(e){return console.error("Error fetching active auctions:",e),[]}}async getAuction(e,n){try{const a=await this.aptos.view({payload:{function:`${q.AUCTION_HOUSE}::get_auction`,functionArguments:[e,n]}}),[r,l,i,u,o,h,f,m,v,p,b,j]=a;return{auction_id:r,nft_id:l,original_borrower:i,lender:u,loan_id:o,start_time:h,end_time:f,min_bid:m,current_highest_bid:v,highest_bidder:p,total_bids:b,status:j}}catch(a){return console.error("Error fetching auction:",a),null}}async placeBid(e,n,a,r){const l=await this.aptos.transaction.build.simple({sender:e.accountAddress,data:{function:`${q.AUCTION_HOUSE}::place_bid`,functionArguments:[n,a,r]}});return(await this.aptos.signAndSubmitTransaction({signer:e,transaction:l})).hash}async getBorrowerProfile(e){try{const n=await this.aptos.view({payload:{function:`${q.REGISTRY}::get_borrower_profile`,functionArguments:[e]}}),[a,r,l,i,u,o,h,f,m]=n;return{total_loans_taken:a,loans_repaid:r,loans_defaulted:l,total_amount_borrowed:i,total_amount_repaid:u,repayment_score:o,is_blacklisted:h,first_loan_timestamp:f,last_activity_timestamp:m}}catch(n){return console.error("Error fetching borrower profile:",n),null}}formatAPT(e){return(e/1e8).toFixed(4)}parseAPT(e){return Math.round(parseFloat(e)*1e8)}formatInterestRate(e){return(e/100).toFixed(2)+"%"}formatDuration(e){const n=Math.floor(e/86400),a=Math.floor(e%86400/3600);return n>0?`${n}d ${a}h`:`${a}h`}calculateRepaymentAmount(e,n){return e+e*n/1e4}isLoanOverdue(e){return Date.now()/1e3>e}getTimeUntilDue(e){const n=Date.now()/1e3,a=e-n;if(a<=0)return"Overdue";const r=Math.floor(a/86400),l=Math.floor(a%86400/3600),i=Math.floor(a%3600/60);return r>0?`${r}d ${l}h`:l>0?`${l}h ${i}m`:`${i}m`}async getAccountAPTBalance(e){try{const a=(await this.aptos.getAccountResources({accountAddress:e})).find(r=>r.type==="0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>");if(a){const r=a.data.coin.value;return parseInt(r)}return 0}catch(n){return console.error("Failed to fetch APT balance:",n),0}}}const V=new Or;function Mr(){const{data:t,isLoading:e,error:n}=ve({queryKey:["activeLoanRequests"],queryFn:async()=>{const i=await V.getActiveLoanRequests();return(await Promise.allSettled(i.map(async o=>{try{return{loanId:o,needsDetails:!0}}catch(h){return console.error(`Failed to fetch loan request ${o}:`,h),null}}))).filter(o=>o.status==="fulfilled"&&o.value!==null).map(o=>o.value)},refetchInterval:3e4}),{data:a,isLoading:r,error:l}=ve({queryKey:["activeLoans"],queryFn:async()=>(await V.getActiveLoans()).map(u=>({loanId:u,needsDetails:!0})),refetchInterval:3e4});return{activeLoanRequests:t,activeLoans:a,loanRequestsLoading:e,activeLoansLoading:r,loanRequestsError:n,activeLoansError:l}}function Ir(){const{data:t,isLoading:e,error:n}=ve({queryKey:["activeAuctions"],queryFn:async()=>(await V.getActiveAuctions()).map(r=>({auctionId:r,needsDetails:!0})),refetchInterval:15e3});return{activeAuctions:t,auctionsLoading:e,auctionsError:n}}function kr(t){const{data:e,isLoading:n}=ve({queryKey:["countdown",t],queryFn:()=>{const a=Math.floor(Date.now()/1e3),r=Math.max(0,t-a);return{total:r,days:Math.floor(r/86400),hours:Math.floor(r%86400/3600),minutes:Math.floor(r%3600/60),seconds:r%60,isExpired:r<=0}},refetchInterval:1e3,enabled:t>0});return{timeRemaining:e||{total:0,days:0,hours:0,minutes:0,seconds:0,isExpired:!0},isLoading:n}}function _r(t){return ve({queryKey:["loanRequestsWithDetails",t.map(e=>e.loanId)],queryFn:async()=>t.map(e=>({...e,borrower:"0x1234...",amount:50,interestRate:10,duration:30,nftId:1,createdAt:Date.now()/1e3,status:0})),enabled:t.length>0,staleTime:3e4})}function Ur(t){return ve({queryKey:["auctionsWithDetails",t.map(e=>e.auctionId)],queryFn:async()=>t.map(e=>({...e,lender:"0x5678...",nftId:1,currentBid:45,minBid:40,endTime:Date.now()/1e3+3600,bidCount:3,status:0})),enabled:t.length>0,staleTime:15e3})}const Jt=()=>{const{connected:t,connecting:e,account:n,connect:a,disconnect:r,signAndSubmitTransaction:l}=vt(),i=Yt(),[u,o]=d.useState(null),{data:h,isLoading:f}=ve({queryKey:["walletBalance",n],queryFn:async()=>{if(!n)return null;try{return await V.getAccountAPTBalance(n)}catch(y){return console.error("Failed to fetch balance:",y),null}},enabled:t&&!!n,refetchInterval:3e4});d.useEffect(()=>{o(h||null)},[h]);const m=ae({mutationFn:a,onSuccess:()=>{i.invalidateQueries({queryKey:["walletBalance"]})},onError:y=>{console.error("Wallet connection failed:",y)}}),v=ae({mutationFn:r,onSuccess:()=>{o(null),i.clear()}}),p=ae({mutationFn:async y=>{if(!n)throw new Error("Petra wallet not connected");try{return await l(y)}catch(S){throw console.error("Transaction failed:",S),S}},onError:y=>{console.error("Transaction signing failed:",y)}}),b=ae({mutationFn:async y=>y,onSuccess:()=>{i.invalidateQueries({queryKey:["walletBalance"]}),i.invalidateQueries({queryKey:["activeLoanRequests"]}),i.invalidateQueries({queryKey:["activeLoans"]}),i.invalidateQueries({queryKey:["activeAuctions"]})},onError:y=>{console.error("Transaction submission failed:",y)}}),j=ae({mutationFn:async y=>{if(!n)throw new Error("Wallet not connected");return V.mintPropertyNFT(n,y.valuationHash,y.metadataUri)},onSuccess:()=>{i.invalidateQueries({queryKey:["userProperties"]}),i.invalidateQueries({queryKey:["walletBalance"]})}}),x=ae({mutationFn:async y=>{if(!n)throw new Error("Wallet not connected");return V.createLoanRequest(n,y.nftId,y.nftOwner,y.amount,y.interestRate,y.duration)},onSuccess:()=>{i.invalidateQueries({queryKey:["activeLoanRequests"]}),i.invalidateQueries({queryKey:["walletBalance"]})}}),P=ae({mutationFn:async y=>{if(!n)throw new Error("Wallet not connected");return V.fundLoan(n,y.loanId,y.borrowerAddress)},onSuccess:()=>{i.invalidateQueries({queryKey:["activeLoanRequests"]}),i.invalidateQueries({queryKey:["activeLoans"]}),i.invalidateQueries({queryKey:["walletBalance"]})}}),E=ae({mutationFn:async y=>{if(!n)throw new Error("Wallet not connected");return V.placeBid(n,y.auctionId,y.lenderAddress,y.bidAmount)},onSuccess:()=>{i.invalidateQueries({queryKey:["activeAuctions"]}),i.invalidateQueries({queryKey:["walletBalance"]})}}),{data:C}=ve({queryKey:["userProperties",n],queryFn:async()=>n?V.getUserProperties(n):[],enabled:t&&!!n});return{connected:t,connecting:e||m.isPending,account:n,balance:u||0,balanceLoading:f,connect:m.mutate,disconnect:v.mutate,connectWallet:m.mutate,disconnectWallet:v.mutate,signTransaction:p.mutateAsync,submitTransaction:b.mutateAsync,mintNFT:j.mutateAsync,createLoan:x.mutateAsync,fundLoan:P.mutateAsync,placeBid:E.mutateAsync,userProperties:C||[],isConnecting:e||m.isPending,isDisconnecting:v.isPending,isSigning:p.isPending,isSubmitting:b.isPending,isMintingNFT:j.isPending,isCreatingLoan:x.isPending,isFundingLoan:P.isPending,isPlacingBid:E.isPending,connectionError:m.error,transactionError:p.error||b.error,formatBalance:y=>V.formatAPT(y),parseAmount:y=>V.parseAPT(y)}};function Dr(){const[t,e]=d.useState(""),[n,a]=d.useState("newest"),[r,l]=d.useState("all"),{activeLoanRequests:i,loanRequestsLoading:u}=Mr(),{data:o}=_r(i||[]),{connected:h,fundLoan:f,isFundingLoan:m}=Jt(),v=(p,b)=>{if(!h){alert("Please connect your wallet first");return}f({loanId:p,borrowerAddress:b})};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(N.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"mb-6 lg:mb-0",children:[s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"Lending Marketplace"}),s.jsx("p",{className:"text-lg text-neutral-600",children:"Fund loan requests and earn competitive interest rates on your APT."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-neutral-400"}),s.jsx("input",{type:"text",placeholder:"Search loan requests...",value:t,onChange:p=>e(p.target.value),className:"input-field pl-10 w-64"})]}),s.jsxs("select",{value:n,onChange:p=>a(p.target.value),className:"input-field w-40",children:[s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"amount",children:"Amount"}),s.jsx("option",{value:"rate",children:"Interest Rate"}),s.jsx("option",{value:"duration",children:"Duration"})]}),s.jsxs("select",{value:r,onChange:p=>l(p.target.value),className:"input-field w-32",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"high-rate",children:"High Rate"}),s.jsx("option",{value:"short-term",children:"Short Term"}),s.jsx("option",{value:"large",children:"Large Amount"})]})]})]})}),s.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx(yr,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:i?.length||0}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Active Requests"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx(wt,{className:"h-8 w-8 text-success-600 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:"8.5%"}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Avg. Interest Rate"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"h-8 w-8 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-warning-600 font-bold text-sm",children:"30d"})}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:"22"}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Avg. Duration (days)"})]})]}),u?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,b)=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-2/3"})]}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded"})]})},b))}):o&&o.length>0?s.jsx(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((p,b)=>s.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*b},className:"card-interactive",children:[s.jsx("div",{className:"aspect-square bg-gradient-to-br from-neutral-100 to-neutral-200 rounded-xl mb-4 flex items-center justify-center",children:s.jsx("div",{className:"text-neutral-400",children:s.jsxs("div",{className:"w-16 h-16 bg-neutral-300 rounded-lg flex items-center justify-center",children:["NFT #",p.nftId]})})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Loan Amount"}),s.jsxs("span",{className:"text-lg font-bold text-neutral-900",children:[p.amount," APT"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Interest Rate"}),s.jsxs("span",{className:"badge badge-primary",children:[p.interestRate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Duration"}),s.jsxs("span",{className:"text-sm text-neutral-700",children:[p.duration," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Borrower"}),s.jsxs("span",{className:"text-sm font-mono text-neutral-700",children:[p.borrower.slice(0,6),"...",p.borrower.slice(-4)]})]}),s.jsx("div",{className:"pt-3 border-t border-neutral-200",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Potential Return"}),s.jsxs("span",{className:"text-lg font-bold text-success-600",children:[(p.amount*(1+p.interestRate/100)).toFixed(2)," APT"]})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(p.loanId,p.borrower),disabled:!h||m,className:"btn-primary w-full",children:h?m?"Funding...":"Fund Loan":"Connect Wallet"})})]},p.loanId))}):s.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-center py-16",children:[s.jsx(wt,{className:"h-16 w-16 text-neutral-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-neutral-700 mb-2",children:"No Loan Requests Available"}),s.jsx("p",{className:"text-neutral-500 mb-6",children:"There are currently no active loan requests to fund. Check back later!"})]}),!h&&s.jsx(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-8 card bg-primary-50 border-primary-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wt,{className:"h-12 w-12 text-primary-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-primary-800 mb-2",children:"Connect Your Wallet to Start Lending"}),s.jsx("p",{className:"text-primary-600 mb-4",children:"Connect your Petra wallet to view and fund loan requests."})]})})]})}function Br(){const[t,e]=d.useState(1),[n,a]=d.useState({propertyType:"",propertyValue:"",propertyLocation:"",documentHash:"",metadataUri:"",loanAmount:"",interestRate:"",duration:"30"}),{connected:r,account:l,mintNFT:i,createLoan:u,isMintingNFT:o,isCreatingLoan:h,userProperties:f}=Jt(),m=async()=>{if(r)try{await i({valuationHash:n.documentHash||"QmExampleHash123",metadataUri:n.metadataUri||"https://ipfs.io/ipfs/QmExample"}),e(2)}catch(p){console.error("Failed to mint NFT:",p)}},v=async()=>{if(!(!r||!f?.length))try{await u({nftId:f[f.length-1],nftOwner:l||"",amount:parseFloat(n.loanAmount),interestRate:parseFloat(n.interestRate),duration:parseInt(n.duration)*24*60*60})}catch(p){console.error("Failed to create loan:",p)}};return r?s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=1?"bg-primary-500 text-white":"bg-neutral-200 text-neutral-600"}`,children:"1"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-neutral-700",children:"Mint Property NFT"})]}),s.jsx("div",{className:"flex-1 mx-4 h-px bg-neutral-200"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${t>=2?"bg-primary-500 text-white":"bg-neutral-200 text-neutral-600"}`,children:"2"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-neutral-700",children:"Create Loan Request"})]})]})}),t===1&&s.jsxs(N.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"Mint Your Property NFT"}),s.jsx("p",{className:"text-lg text-neutral-600",children:"Create a digital representation of your property as collateral for your loan."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"Property Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Property Type"}),s.jsxs("select",{value:n.propertyType,onChange:p=>a({...n,propertyType:p.target.value}),className:"input-field",children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"residential",children:"Residential"}),s.jsx("option",{value:"commercial",children:"Commercial"}),s.jsx("option",{value:"land",children:"Land"}),s.jsx("option",{value:"industrial",children:"Industrial"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Estimated Value (APT)"}),s.jsx("input",{type:"number",value:n.propertyValue,onChange:p=>a({...n,propertyValue:p.target.value}),placeholder:"e.g., 1000",className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Location"}),s.jsx("input",{type:"text",value:n.propertyLocation,onChange:p=>a({...n,propertyLocation:p.target.value}),placeholder:"e.g., New York, NY",className:"input-field"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Valuation Document Hash"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:n.documentHash,onChange:p=>a({...n,documentHash:p.target.value}),placeholder:"IPFS hash of valuation document",className:"input-field flex-1"}),s.jsx("button",{className:"btn-secondary px-4",children:s.jsx(br,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Upload your property valuation to IPFS and enter the hash here."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Metadata URI"}),s.jsx("input",{type:"url",value:n.metadataUri,onChange:p=>a({...n,metadataUri:p.target.value}),placeholder:"https://ipfs.io/ipfs/QmExample...",className:"input-field"})]})]}),s.jsx("div",{className:"mt-8",children:s.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,disabled:o||!n.propertyType,className:"btn-primary w-full",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"spinner mr-2"}),"Minting NFT..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Mint Property NFT"]})})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"NFT Preview"}),s.jsx("div",{className:"aspect-square bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl mb-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ws,{className:"h-16 w-16 text-primary-400 mx-auto mb-4"}),s.jsx("p",{className:"text-primary-600 font-medium",children:"Property NFT"}),s.jsx("p",{className:"text-sm text-primary-500",children:n.propertyType||"Property Type"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Type"}),s.jsx("span",{className:"text-sm font-medium text-neutral-900",children:n.propertyType||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Value"}),s.jsx("span",{className:"text-sm font-medium text-neutral-900",children:n.propertyValue?`${n.propertyValue} APT`:"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Location"}),s.jsx("span",{className:"text-sm font-medium text-neutral-900",children:n.propertyLocation||"Not set"})]})]})]})]})]}),t===2&&s.jsxs(N.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"Create Loan Request"}),s.jsx("p",{className:"text-lg text-neutral-600",children:"Set your loan terms and submit your request to the marketplace."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"Loan Terms"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Loan Amount (APT)"}),s.jsx("input",{type:"number",value:n.loanAmount,onChange:p=>a({...n,loanAmount:p.target.value}),placeholder:"e.g., 500",className:"input-field"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Maximum: 70% of property value"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Interest Rate (%)"}),s.jsx("input",{type:"number",value:n.interestRate,onChange:p=>a({...n,interestRate:p.target.value}),placeholder:"e.g., 8.5",step:"0.1",className:"input-field"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Current market rate: 8.5% - 12%"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Loan Duration (Days)"}),s.jsxs("select",{value:n.duration,onChange:p=>a({...n,duration:p.target.value}),className:"input-field",children:[s.jsx("option",{value:"7",children:"7 days"}),s.jsx("option",{value:"14",children:"14 days"}),s.jsx("option",{value:"30",children:"30 days"}),s.jsx("option",{value:"60",children:"60 days"}),s.jsx("option",{value:"90",children:"90 days"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-neutral-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Total Repayment"}),s.jsxs("span",{className:"text-lg font-bold text-neutral-900",children:[n.loanAmount&&n.interestRate?(parseFloat(n.loanAmount)*(1+parseFloat(n.interestRate)/100)).toFixed(2):"0.00"," APT"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Interest"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:[n.loanAmount&&n.interestRate?(parseFloat(n.loanAmount)*parseFloat(n.interestRate)/100).toFixed(2):"0.00"," APT"]})]})]})]}),s.jsxs("div",{className:"mt-8 space-y-3",children:[s.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:v,disabled:h||!n.loanAmount||!n.interestRate,className:"btn-primary w-full",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"spinner mr-2"}),"Creating Loan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(js,{className:"h-5 w-5 mr-2"}),"Create Loan Request"]})}),s.jsx("button",{onClick:()=>e(1),className:"btn-ghost w-full",children:"Back to NFT Creation"})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"Loan Summary"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Collateral"}),s.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ws,{className:"h-10 w-10 text-primary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-primary-600 font-medium",children:"Property NFT"})]})}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-neutral-600",children:"Type"}),s.jsx("span",{className:"font-medium",children:n.propertyType})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-neutral-600",children:"Value"}),s.jsxs("span",{className:"font-medium",children:[n.propertyValue," APT"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Loan Terms"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Amount"}),s.jsxs("span",{className:"text-sm font-medium",children:[n.loanAmount||"0"," APT"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Interest Rate"}),s.jsxs("span",{className:"text-sm font-medium",children:[n.interestRate||"0","%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-neutral-600",children:"Duration"}),s.jsxs("span",{className:"text-sm font-medium",children:[n.duration," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-3 border-t border-neutral-200",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Total Repayment"}),s.jsxs("span",{className:"text-lg font-bold text-primary-600",children:[n.loanAmount&&n.interestRate?(parseFloat(n.loanAmount)*(1+parseFloat(n.interestRate)/100)).toFixed(2):"0.00"," APT"]})]})]})]}),s.jsxs("div",{className:"bg-warning-50 border border-warning-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-warning-800 mb-2",children:"Important Notice"}),s.jsx("p",{className:"text-xs text-warning-700",children:"If you fail to repay the loan by the due date, your Property NFT collateral will be automatically auctioned to recover the loan amount."})]})]})]})]})]})]}):s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[s.jsx(js,{className:"h-16 w-16 text-primary-500 mx-auto mb-6"}),s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"Connect Your Wallet to Borrow"}),s.jsx("p",{className:"text-lg text-neutral-600 mb-8",children:"You need to connect your Petra wallet to mint Property NFTs and create loan requests."})]})}const I={lending:{totalLent:12500,activeLoans:8,totalEarned:1250,avgApy:14.2},borrowing:{totalBorrowed:5500,activeLoans:2,totalPaid:650,nextPayment:{amount:275,dueDate:"2024-02-15"}},nfts:[{id:"1",name:"Property NFT #1234",type:"Residential",value:2500,status:"collateral"},{id:"2",name:"Property NFT #5678",type:"Commercial",value:4200,status:"available"},{id:"3",name:"Property NFT #9012",type:"Land",value:1800,status:"available"}],transactions:[{id:"1",type:"lend",amount:1e3,date:"2024-01-28",status:"completed"},{id:"2",type:"borrow",amount:500,date:"2024-01-25",status:"completed"},{id:"3",type:"repay",amount:125,date:"2024-01-20",status:"completed"},{id:"4",type:"withdraw",amount:250,date:"2024-01-15",status:"completed"}]};function qr(){const{connected:t,account:e}=vt(),{showToast:n}=Zt(),[a,r]=d.useState("overview");if(!t)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-6",children:"👛"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Connect Your Wallet"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Connect your Petra wallet to view your portfolio and manage your assets."})]})});const l=o=>{switch(o){case"available":return"text-green-600 bg-green-100";case"collateral":return"text-blue-600 bg-blue-100";case"auction":return"text-red-600 bg-red-100";case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},i=o=>{switch(o){case"lend":return"💰";case"borrow":return"🏦";case"repay":return"✅";case"withdraw":return"🔄";default:return"📊"}},u=[{id:"overview",label:"Overview"},{id:"lending",label:"Lending"},{id:"borrowing",label:"Borrowing"},{id:"nfts",label:"NFTs"},{id:"history",label:"History"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Portfolio"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Track your lending, borrowing, and NFT activities all in one place."}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Connected: ",e?.slice(0,6),"...",e?.slice(-4)]})]}),s.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center space-x-1 mb-8 bg-white rounded-xl p-2 shadow-sm border border-gray-200",children:u.map(o=>s.jsx("button",{onClick:()=>r(o.id),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a===o.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.label},o.id))}),a==="overview"&&s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",(I.lending.totalLent+I.borrowing.totalBorrowed).toLocaleString()]}),s.jsx("div",{className:"text-gray-600",children:"Total Value"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",I.lending.totalEarned.toLocaleString()]}),s.jsx("div",{className:"text-gray-600",children:"Total Earned"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:I.lending.activeLoans+I.borrowing.activeLoans}),s.jsx("div",{className:"text-gray-600",children:"Active Loans"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:I.nfts.length}),s.jsx("div",{className:"text-gray-600",children:"NFTs Owned"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Lending Portfolio"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Lent"}),s.jsxs("span",{className:"font-semibold text-lg",children:["$",I.lending.totalLent.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Loans"}),s.jsx("span",{className:"font-semibold",children:I.lending.activeLoans})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Earned"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["$",I.lending.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Average APY"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[I.lending.avgApy,"%"]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Borrowing Portfolio"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Borrowed"}),s.jsxs("span",{className:"font-semibold text-lg",children:["$",I.borrowing.totalBorrowed.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Loans"}),s.jsx("span",{className:"font-semibold",children:I.borrowing.activeLoans})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsxs("span",{className:"font-semibold",children:["$",I.borrowing.totalPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Next Payment"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-red-600",children:["$",I.borrowing.nextPayment.amount]}),s.jsx("div",{className:"text-sm text-gray-500",children:I.borrowing.nextPayment.dueDate})]})]})]})]})]})]}),a==="nfts"&&s.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.nfts.map((o,h)=>s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"card-interactive",children:[s.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl mb-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:"🏠"}),s.jsx("div",{className:"font-semibold text-gray-900",children:o.name})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Type"}),s.jsx("span",{className:"font-semibold",children:o.type})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Value"}),s.jsxs("span",{className:"font-semibold",children:["$",o.value.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Status"}),s.jsx("span",{className:`badge ${l(o.status)}`,children:o.status})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.status==="available"?s.jsx("button",{className:"btn-primary w-full",children:"Use as Collateral"}):o.status==="collateral"?s.jsx("button",{className:"btn-secondary w-full",disabled:!0,children:"Currently Locked"}):s.jsx("button",{className:"btn-danger w-full",disabled:!0,children:"In Auction"})})]},o.id))})}),a==="history"&&s.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Transactions"}),s.jsx("div",{className:"space-y-4",children:I.transactions.map((o,h)=>s.jsxs(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-2xl",children:i(o.type)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900 capitalize",children:[o.type," - $",o.amount.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-600",children:o.date})]})]}),s.jsx("div",{className:`badge ${l(o.status)}`,children:o.status})]},o.id))})]})}),s.jsxs(N.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 text-center",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[s.jsx("button",{onClick:()=>n("info","Redirecting to lending page..."),className:"btn-primary",children:"Start Lending"}),s.jsx("button",{onClick:()=>n("info","Redirecting to borrowing page..."),className:"btn-secondary",children:"Create Loan Request"}),s.jsx("button",{onClick:()=>n("info","Mint NFT feature coming soon!"),className:"btn-ghost",children:"Mint Property NFT"})]})]})]})})}function $r({endTime:t}){const{timeRemaining:e}=kr(t);return e.isExpired?s.jsx("span",{className:"text-red-600 font-semibold",children:"Auction Ended"}):s.jsxs("div",{className:"flex items-center space-x-1 text-sm font-mono",children:[s.jsx(mn,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.days>0&&`${e.days}d `,String(e.hours).padStart(2,"0"),":",String(e.minutes).padStart(2,"0"),":",String(e.seconds).padStart(2,"0")]})]})}function Qr(){const{activeAuctions:t,auctionsLoading:e}=Ir(),{data:n}=Ur(t||[]),{connected:a,placeBid:r,isPlacingBid:l}=Jt(),i=(u,o,h)=>{if(!a){alert("Please connect your wallet first");return}const f=prompt(`Enter your bid amount (current: ${h} APT):`);if(!f||parseFloat(f)<=h){alert("Bid must be higher than current bid");return}r({auctionId:u,lenderAddress:o,bidAmount:parseFloat(f)})};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(N.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"Live Auctions"}),s.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:"Bid on defaulted collateral NFTs. All auctions are transparent and settled automatically on-chain."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx(Nt,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:t?.length||0}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Active Auctions"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx(Ns,{className:"h-8 w-8 text-red-600 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:"156"}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Total Bids Today"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx(Cs,{className:"h-8 w-8 text-success-600 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-neutral-900",children:"89"}),s.jsx("div",{className:"text-sm text-neutral-600",children:"Active Bidders"})]})]})]}),e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((u,o)=>s.jsx("div",{className:"card",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"aspect-square bg-neutral-200 rounded-xl"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),s.jsx("div",{className:"h-6 bg-neutral-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-neutral-200 rounded"}),s.jsx("div",{className:"h-10 bg-neutral-200 rounded"})]})]})},o))}):n&&n.length>0?s.jsx(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((u,o)=>s.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*o},className:"card-interactive",children:[s.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-neutral-100 to-neutral-200 rounded-xl mb-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-400 to-primary-600 rounded-xl flex items-center justify-center text-white font-bold text-xl mb-2",children:["#",u.nftId]}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Property NFT"})]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Live"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-3 bg-primary-50 rounded-xl",children:[s.jsx("div",{className:"text-sm text-primary-600 font-medium mb-1",children:"Current Bid"}),s.jsxs("div",{className:"text-2xl font-bold text-primary-800",children:[u.currentBid," APT"]}),s.jsxs("div",{className:"text-xs text-primary-600",children:[u.bidCount," bid",u.bidCount!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-xl",children:[s.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Time Left"}),s.jsx($r,{endTime:u.endTime})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"Min Bid"}),s.jsxs("span",{className:"font-medium text-neutral-900",children:[u.minBid," APT"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"NFT ID"}),s.jsxs("span",{className:"font-mono text-neutral-900",children:["#",u.nftId]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:"Lender"}),s.jsxs("span",{className:"font-mono text-neutral-700",children:[u.lender.slice(0,6),"...",u.lender.slice(-4)]})]})]}),s.jsxs("div",{className:"pt-4 space-y-2",children:[s.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(u.auctionId,u.lender,u.currentBid),disabled:!a||l,className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${a?u.status!==0?"bg-neutral-100 text-neutral-500 cursor-not-allowed":"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700 shadow-sm hover:shadow-md":"bg-neutral-100 text-neutral-500 cursor-not-allowed"}`,children:a?l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"spinner mr-2"}),"Placing Bid..."]}):u.status!==0?"Auction Ended":`Place Bid (>${u.currentBid} APT)`:"Connect Wallet to Bid"}),a&&u.status===0&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>i(u.auctionId,u.lender,u.currentBid),className:"btn-ghost text-xs flex-1 py-2",children:"+1 APT"}),s.jsx("button",{onClick:()=>i(u.auctionId,u.lender,u.currentBid),className:"btn-ghost text-xs flex-1 py-2",children:"+5 APT"}),s.jsx("button",{onClick:()=>i(u.auctionId,u.lender,u.currentBid),className:"btn-ghost text-xs flex-1 py-2",children:"+10 APT"})]})]})]})]},u.auctionId))}):s.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-center py-16",children:[s.jsx(Nt,{className:"h-16 w-16 text-neutral-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-neutral-700 mb-2",children:"No Active Auctions"}),s.jsx("p",{className:"text-neutral-500 mb-6",children:"There are currently no auctions running. Auctions start when loans default."})]}),s.jsxs(N.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0},className:"mt-16 card bg-secondary-50 border-primary-200",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-4",children:"How Auctions Work"}),s.jsx("p",{className:"text-neutral-600",children:"When a loan defaults, the collateral NFT is automatically put up for auction."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 border border-red-200 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(mn,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Loan Default"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Borrower fails to repay by due date"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 border border-primary-200 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(Nt,{className:"h-6 w-6 text-primary-600"})}),s.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Auction Start"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"NFT automatically listed for bidding"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-warning-100 border border-warning-200 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(Ns,{className:"h-6 w-6 text-warning-600"})}),s.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Bidding"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Users place competitive bids"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-success-100 border border-success-200 rounded-xl flex items-center justify-center mx-auto mb-3",children:s.jsx(Cs,{className:"h-6 w-6 text-success-600"})}),s.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"Settlement"}),s.jsx("p",{className:"text-sm text-neutral-600",children:"Winner gets NFT, proceeds to lender"})]})]})]})]})}const Wr=new Ga({defaultOptions:{queries:{retry:2,staleTime:5*60*1e3,gcTime:10*60*1e3}}});function Vr(){return s.jsx(Ya,{client:Wr,children:s.jsx(or,{children:s.jsx(cr,{children:s.jsx(Na,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx("div",{className:"min-h-screen bg-white",children:s.jsx(ur,{children:s.jsxs(xa,{children:[s.jsx(be,{path:"/",element:s.jsx(bs,{})}),s.jsx(be,{path:"/lend",element:s.jsx(Dr,{})}),s.jsx(be,{path:"/borrow",element:s.jsx(Br,{})}),s.jsx(be,{path:"/portfolio",element:s.jsx(qr,{})}),s.jsx(be,{path:"/auctions",element:s.jsx(Qr,{})}),s.jsx(be,{path:"*",element:s.jsx(bs,{})})]})})})})})})})}Rt.createRoot(document.getElementById("root")).render(s.jsx(xn.StrictMode,{children:s.jsx(Vr,{})}));
//# sourceMappingURL=index-elj8E-Pw.js.map
